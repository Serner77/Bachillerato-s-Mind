<div class="container-fluid px-0">

  <h1 class="h4 mb-1">Chat y comunicaci√≥n</h1>
  <p class="text-muted mb-4">
    Con√©ctate con tus profesores y compa√±eros de forma r√°pida y clara.
  </p>

  <div class="row g-4">

    <!-- ===================================== -->
    <!--         LISTA DE CONVERSACIONES       -->
    <!-- ===================================== -->
    <div class="col-12 col-lg-4">
      <div class="bm-card card h-100">

        <!-- Header de conversaciones -->
        <div class="card-header bm-card-header bg-transparent d-flex justify-content-between align-items-center">
          <h2 class="h6 mb-0">Conversaciones</h2>
          <button class="btn btn-sm btn-outline-primary" style="padding: 0.25rem 0.55rem;">
            <i class="bi bi-plus-lg"></i>
          </button>
        </div>

        <!-- Buscador -->
        <div class="px-3 pt-2 pb-2">
          <div class="input-group">
            <span class="input-group-text bg-light border-0">
              <i class="bi bi-search text-muted"></i>
            </span>
            <input type="text" class="form-control border-0 bg-light"
                   placeholder="Buscar conversaciones‚Ä¶"
                   style="font-size: 0.85rem;">
          </div>
        </div>

        <!-- Conversaciones -->
        <div class="card-body p-0">

          <div class="list-group list-group-flush">

            <!-- PROFESOR SELECCIONADO -->
            <a class="list-group-item list-group-item-action d-flex gap-3 py-3 active"
               style="
                 background-color: var(--bm-primary-soft) !important;
                 border-left: 4px solid var(--bm-primary);
                 color: var(--bm-primary);
               ">
              <div class="bm-avatar"
                   style="background: #eff6ff; color: var(--bm-primary); font-weight: 700;">
                M
              </div>

              <div class="w-100">
                <div class="fw-semibold">Prof. Matem√°ticas</div>
                <div class="small text-muted text-truncate">Vamos a repasar el tema de l√≠mites‚Ä¶</div>
              </div>

              <span class="badge-soft badge-soft-primary small align-self-center">1</span>
            </a>

            <!-- GRUPO -->
            <a class="list-group-item list-group-item-action d-flex gap-3 py-3">
              <div class="bm-avatar bg-light text-primary">
                <i class="bi bi-people"></i>
              </div>
              <div class="w-100">
                <div class="fw-semibold">Grupo Lengua</div>
                <div class="small text-muted text-truncate">Nuevo esquema disponible‚Ä¶</div>
              </div>
            </a>

            <!-- COORDINACI√ìN -->
            <a class="list-group-item list-group-item-action d-flex gap-3 py-3">
              <div class="bm-avatar bg-light text-primary">
                <i class="bi bi-building"></i>
              </div>
              <div class="w-100">
                <div class="fw-semibold">Coordinaci√≥n</div>
                <div class="small text-muted text-truncate">
                  Material ‚ÄúSimulacro PAU‚Äù
                </div>
              </div>
            </a>

          </div>
        </div>

      </div>
    </div>

    <!-- ===================================== -->
    <!--         PANEL PRINCIPAL DE CHAT       -->
    <!-- ===================================== -->
    <div class="col-12 col-lg-8">
      <div class="bm-card card h-100 d-flex flex-column">

        <!-- Header del chat -->
        <div class="card-header bm-card-header bg-transparent d-flex justify-content-between align-items-center">
          <div class="d-flex align-items-center gap-3">
            <div class="bm-avatar bg-primary text-white">M</div>
            <div>
              <div class="fw-semibold">Prof. Matem√°ticas</div>
              <div class="small text-muted">Asignatura: Matem√°ticas II ¬∑ Online</div>
            </div>
          </div>
          <span class="badge-soft badge-soft-success small">
            <i class="bi bi-circle-fill" style="font-size: 0.55rem;"></i> En l√≠nea
          </span>
        </div>

        <!-- ===================================== -->
        <!--               MENSAJES                -->
        <!-- ===================================== -->
        <div class="card-body" style="height: 460px; overflow-y: auto;">

          <!-- D√≠a -->
          <div class="text-center my-2">
            <span class="badge-soft badge-soft-primary small">Hoy</span>
          </div>

          <!-- Profesor msg -->
          <div class="mb-3 d-flex flex-column">
            <div class="p-3 bg-light rounded shadow-sm" style="max-width: 75%;">
              Hola Ana, recuerda repasar los ejercicios 3 y 4 del tema de l√≠mites.
              Te ayudar√°n mucho para el examen.
            </div>
            <span class="text-muted small mt-1">16:32</span>
          </div>

          <!-- Material compartido -->
          <div class="mb-4 d-flex flex-column">
            <div class="p-3 bg-light rounded shadow-sm" style="max-width: 75%;">
              <div class="fw-semibold mb-1">
                <i class="bi bi-paperclip"></i> Material recomendado
              </div>
              <a href="#" class="text-primary small">L√≠mites ¬∑ Ejercicios resueltos.pdf</a>
            </div>
            <span class="text-muted small mt-1">16:33</span>
          </div>

          <!-- Alumno msg -->
          <div class="mb-3 d-flex flex-column align-items-end">
            <div class="p-3 rounded text-white shadow-sm"
                 style="max-width: 75%; background: var(--bm-primary);">
              ¬°Gracias profe! Me atasco en el paso 2 del ejercicio 4.
              ¬øPodr√≠a explic√°rmelo?
            </div>
            <span class="text-muted small mt-1">16:34</span>
          </div>

          <!-- Profesor explicaci√≥n -->
          <div class="mb-3 d-flex flex-column">
            <div class="p-3 bg-light rounded shadow-sm" style="max-width: 75%;">
              Claro. El paso 2 consiste en aplicar la desigualdad para l√≠mites laterales.  
              Ejemplo:
              <br><br>
              <strong>lim x‚Üí2 (x¬≤ ‚àí 4) / (x ‚àí 2)</strong>  
              El truco es factorizar para evitar la indeterminaci√≥n.
            </div>
            <span class="text-muted small mt-1">16:35</span>
          </div>

          <!-- Sistema -->
          <div class="text-center my-3">
            <div class="small text-muted">
              ‚Äî Recomendaci√≥n: repasar ‚ÄúDerivadas ¬∑ Conceptos base‚Äù ‚Äî
            </div>
          </div>

          <!-- Alumno -->
          <div class="mb-3 d-flex flex-column align-items-end">
            <div class="p-3 rounded text-white shadow-sm"
                 style="max-width: 75%; background: var(--bm-primary);">
              Ahora s√≠ lo entiendo. ¬øEs normal que me salga 4?
            </div>
            <span class="text-muted small mt-1">16:36</span>
          </div>

          <!-- Profesor -->
          <div class="mb-3 d-flex flex-column">
            <div class="p-3 bg-light rounded shadow-sm" style="max-width: 75%;">
              S√≠, es el resultado correcto. ¬°Buen trabajo!
            </div>
            <span class="text-muted small mt-1">16:37</span>
          </div>

          <!-- Alumno -->
          <div class="mb-3 d-flex flex-column align-items-end">
            <div class="p-3 rounded text-white shadow-sm"
                 style="max-width: 75%; background: var(--bm-primary);">
              Perfecto, gracias profe üôå
            </div>
            <span class="text-muted small mt-1">16:38</span>
          </div>

        </div>

        <!-- Input -->
        <div class="card-footer bg-white border-0">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Escribe un mensaje‚Ä¶">
            <button class="btn btn-primary">
              <i class="bi bi-send-fill"></i>
            </button>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>
